uniform sampler3D cloud_noise_tex;
uniform float time = 0.0;

float gen_cloud_alpha(in vec2 pos)
{
	float alpha = 0.0;
	float freq  = 1.0;

	for (int i = 0; i < NUM_OCTAVES; ++i) {
		alpha += texture3D(cloud_noise_tex, 0.0012*(freq*pos.xy + vec3(time, time, time))).r/freq;
		freq  *= 2.0;
	}
	return clamp(2.0*(0.5*alpha-1.0), 0.0, 1.0);
}
