uniform float time   = 0.0;
uniform float wind_x = 0.0;
uniform float wind_y = 0.0;
uniform sampler2D tex_noise;

float get_wind_delta(in vec3 vertex, in float flex_comp) {
	float tx  = (time*wind_x + 1.2*vertex.x);
	float ty  = (time*wind_y + 1.2*vertex.y);
	float mag = texture2DLod(tex_noise, vec2(tx, ty), 1).a;
	float flexibility = 0.75*flex_comp + 0.25; // burned grass/leaves are less flexible
	return flexibility * mag;
} 
